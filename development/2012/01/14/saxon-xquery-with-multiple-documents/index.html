<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
<title>Codurance - Saxon XQuery With Multiple Documents</title>

<!-- Meta -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<!-- CSS Global Compulsory-->
<link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.css">
<link rel="stylesheet" href="/assets/css/style.css">
<link rel="stylesheet" href="/assets/css/responsive.css">
<link rel="stylesheet" href="/assets/css/headers/header1.css">
<link rel="stylesheet" href="/assets/css/pages/page_one.css">
<!-- CSS Implementing Plugins -->
<link rel="stylesheet" href="/assets/plugins/font-awesome/css/font-awesome.css">
<link rel="stylesheet" href="/assets/plugins/flexslider/flexslider.css">
<link rel="stylesheet" href="/assets/plugins/parallax-slider/css/parallax-slider.css">
<link rel="stylesheet" href="/assets/css/pages/portfolio-v1.css">
<link rel="stylesheet" href="assets/css/pages/page_404_error.css">
<link rel="stylesheet" href="/assets/css/syntax.css">
<!-- CSS Theme -->
<link rel="stylesheet" href="/assets/css/themes/orange.css" id="style_color">
<link rel="stylesheet" href="/assets/css/themes/headers/header1-orange.css" id="style_color-header-1">
<!-- Custom -->
<link rel="stylesheet" href="/assets/css/codurance/app.css">



<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46289079-1', 'codurance.com');
    ga('send', 'pageview');
</script>

</head>

<body>
<!--=== Header ===-->
<div class="header">
    <div class="navbar navbar-default" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">
                    <img id="logo-header" src="/assets/img/logo1-orange.png" height="45" alt="Logo">
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="/services">Services</a></li>
                    <li><a href="/casestudies">Case Studies</a></li>
                    <li><a href="/videos">Videos</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/careers/craftsman">Careers</a></li>
                    <li class="dropdown"><a class="dropdown-toggle" data-hover="dropdown" data-delay="0" data-close-others="false">About Us <i class="icon-angle-down">&nbsp;</i></a><ul class="dropdown-menu">
                        <li><a href="/aboutus/ourteam">Our Team</a></li>
                        <li><a href="/aboutus/ourcompany">Our Company</a></li>
                        <li><a href="/aboutus/ourpractices">Our Practices</a></li>
                    </ul></li>
                </ul>
                <div class="search-open">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                            <button class="btn-u" type="button">Go</button>
                        </span>
                    </div><!-- /input-group -->
                </div>
            </div><!-- /navbar-collapse -->
        </div>
    </div>
</div><!--/header-->



<!--=== End Header ===-->


    <div class="breadcrumbs margin-bottom-10">
        <div class="container">
            <h2 class="pull-left">Saxon XQuery With Multiple Documents</h2>
            <ul class="pull-right breadcrumb">
                <li><a href="/">Home</a></li>
                
                    <li>
                    
                        <a href="/blog">Blog</a>
                    
                    </li>
                
            </ul>
        </div>
    </div>



<div class="container">
<div class="row blog-page blog-item">
<!-- Left Sidebar -->
<div class="col-md-9 md-margin-bottom-60">
    <!--Blog Post-->
    <div class="blog margin-bottom-40">
        
        <div class="blog-post-tags">
            <ul class="list-unstyled list-inline blog-info">
                <li><i class="icon-calendar"></i> 14 Jan 2012</li>
                <li><i class="icon-pencil"></i> Mashooq Badar</li>
            </ul>
        </div>
        

        <p>Saxon is a wonderful API for XML processing. It provides complete support for XPath, XQuery and XSLT. Although I'm always baffled with it's lack of adoption compared to Xalan and Xerces. Having said that the online documentation can definitely do with some improvement. Â The following is a quick example of of how you may execute an XQuery that takes multiple XML documents as input.
[sourcecode language="java"]
@Test
public void runXQueryWithMultipleInputDocuments() throws SaxonApiException {
    Processor processor = new Processor(false);</p>

<pre><code>DocumentBuilder documentBuilder = processor.newDocumentBuilder();
XdmNode document = documentBuilder.build(
        new StreamSource(new StringReader("&lt;my&gt;&lt;document&gt;content&lt;/document&gt;&lt;/my&gt;")));
XdmNode document2 = documentBuilder.build(
        new StreamSource(new StringReader("&lt;my&gt;&lt;document&gt;content2&lt;/document&gt;&lt;/my&gt;")));

XQueryCompiler xQueryCompiler = processor.newXQueryCompiler();
XQueryExecutable xQueryExecutable = xQueryCompiler.compile(
        "declare variable $mydoc external; " +
        "declare variable $mydoc2 external; " +
        "&lt;newdoc&gt;&lt;doc1&gt;{$mydoc/my/document/text()}&lt;/doc1&gt;" +
        "&lt;doc2&gt;{$mydoc2/my/document/text()}&lt;/doc2&gt;&lt;/newdoc&gt;");

XQueryEvaluator xQueryEvaluator = xQueryExecutable.load();

QName name = new QName("mydoc");
xQueryEvaluator.setExternalVariable(name, document);
QName name2 = new QName("mydoc2");
xQueryEvaluator.setExternalVariable(name2, document2);

System.out.println(xQueryEvaluator.evaluate());
</code></pre>

<p>}
[/sourcecode]
This result is an output of:
[sourcecode language="xml"]
  <newdoc>
   <doc1>content</doc1>
   <doc2>content2</doc2>
</newdoc>
[/sourcecode]</p>


        
    </div>
    <!--End Blog Post-->
</div>
<!-- End Left Sidebar -->

<!-- Right Sidebar -->
<div class="col-md-3 magazine-page">
    <!-- Blog Latest Tweets -->
    <div class="blog-twitter margin-bottom-30">
        <a class="twitter-timeline" href="https://twitter.com/mashooq/codurance" data-widget-id="400789734676385792">Tweets from Codurance team</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <!-- End Blog Latest Tweets -->
</div>
<!-- End Right Sidebar -->
</div>
<!--/row-->
</div>
<!--/container-->


<!--=== Copyright ===-->
<div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <p class="copyright-space">
                    2013 &copy; Codurance LTD.
                     | Company Registration No: 8712584
                     | Contact us: <a href="mailto:hello@codurance.com" class="">hello@codurance.com</a>
                </p>

            </div>
            <div class="col-md-6">
                <ul class="social-icons pull-right">
                    <li><a href="/atom.xml" data-original-title="Feed" class="social_rss"></a></li>
                    <li><a href="http://twitter.com/codurance" data-original-title="Twitter" class="social_twitter"></a></li>
                </ul>
            </div>
        </div> <!--/row-->
    </div> <!--/container-->
</div><!--/copyright-->

<!--=== End Copyright ===-->

<!-- JS Global Compulsory -->
<script type="text/javascript" src="/assets/plugins/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/plugins/hover-dropdown.min.js"></script>
<script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
<!-- JS Implementing Plugins -->
<script type="text/javascript" src="/assets/plugins/flexslider/jquery.flexslider-min.js"></script>
<script type="text/javascript" src="/assets/plugins/parallax-slider/js/modernizr.js"></script>
<script type="text/javascript" src="/assets/plugins/parallax-slider/js/jquery.cslider.js"></script>
<!-- JS Page Level -->
<script type="text/javascript" src="/assets/js/app.js"></script>
<script type="text/javascript" src="/assets/js/pages/index.js"></script>
<script type="text/javascript">
    jQuery(document).ready(function() {
        App.init();
        App.initSliders();
        Index.initParallaxSlider();
    });
</script>
<!--[if lt IE 9]>
    <script src="/assets/plugins/respond.js"></script>
<![endif]-->

</body>
</html>
