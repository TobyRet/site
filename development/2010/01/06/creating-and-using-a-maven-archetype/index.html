<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en"> <!--<![endif]-->
<head>
    <title>Codurance - Creating and using a maven archetype</title>
    <link rel="stylesheet" href="/assets/css/syntax.css">


    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- CSS Global Compulsory-->
    <link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/assets/css/codurance/app.css">
    <link rel="stylesheet" href="/assets/css/headers/header1.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
    <link rel="shortcut icon" href="favicon.ico">
    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="/assets/plugins/font-awesome/css/font-awesome.css">

    <link rel="stylesheet" href="/assets/css/pages/blog.css">
    <link rel="stylesheet" href="/assets/css/pages/page_magazine.css">

    <!-- CSS Theme -->
    <link rel="stylesheet" href="/assets/css/themes/orange.css" id="style_color">
    <link rel="stylesheet" href="/assets/css/themes/headers/header1-orange.css" id="style_color-header-1">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-46289079-1', 'codurance.com');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div class="top">
    <div class="container">
    </div>
</div>
<!--/top-->
<!--=== End Top ===-->

<!--=== Header ===-->
<div class="header">
    <div class="navbar navbar-default" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">
                    <img id="logo-header" src="/assets/img/logo1-orange.png" height="45" alt="Logo">
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="/services">Services</a></li>
                    <li><a href="/casestudies">Case Studies</a></li>
                    <li class="dropdown"><a class="dropdown-toggle" data-hover="dropdown" data-delay="0" data-close-others="false">About Us <i class="icon-angle-down">&nbsp;</i></a><ul class="dropdown-menu">
                        <li><a href="/aboutus/ourteam">Our Team</a></li>
                        <li><a href="/aboutus/ourcompany">Our Company</a></li>
                        <li><a href="/aboutus/ourpractices">Our Practices</a></li>
                    </ul></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/careers/craftsman">Careers</a></li>
                </ul>
                <div class="search-open">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                            <button class="btn-u" type="button">Go</button>
                        </span>
                    </div><!-- /input-group -->
                </div>
            </div><!-- /navbar-collapse -->
        </div>
    </div>
</div><!--/header-->



<!--=== End Header ===-->


<div class="breadcrumbs margin-bottom-10">
    <div class="container">
        <h2 class="pull-left">Creating and using a maven archetype</h2>
        <ul class="pull-right breadcrumb">
            <li><a href="/">Home</a></li>
            
            <li><a href="/blog">Blog</a></li>
            
        </ul>
    </div>
</div>


<!--=== Content Part ===-->
<div class="container">
<div class="row blog-page blog-item">
<!-- Left Sidebar -->
<div class="col-md-9 md-margin-bottom-60">
    <!--Blog Post-->
    <div class="blog margin-bottom-40">
        
        <div class="blog-post-tags">
            <ul class="list-unstyled list-inline blog-info">
                <li><i class="icon-calendar"></i> 06 Jan 2010</li>
                <li><i class="icon-pencil"></i> Mashooq Badar</li>
            </ul>
        </div>
        
        <p>The best way to create a maven archetype is to start with an existing project. In the maven project (simple or multiple-module) directory execute:</p>

<div class="highlight"><pre><code class="xml">    mvn archetype:create-from-project
</code></pre></div>


<p>The archetype is created under <code>target/generated-sources/archetypes</code> with the following directory structure:</p>

<pre>
<code>
    +---src
        +---main
            +---resources
                +---archetype-resources
                ¦   +---src
                ¦       +---main
                ¦           +---java (directory containing your java sources)
                ¦           +---resources (directory containing your non-java sources)
                ¦           +---webapp
                ¦               +---META-INF
                ¦               +---WEB-INF
                ¦                   +---jsp
                ¦
                +---META-INF
                    +---maven (directory containing archetype-metadata.xml)
</code>
</pre>


<p>The archetype-metadata.xml can used used to further tune the archetype. This file describes filesets of the following format:</p>

<div class="highlight"><pre><code class="xml">    <span class="nt">&lt;fileSets&gt;</span>
      <span class="nt">&lt;fileSet</span> <span class="na">filtered=</span><span class="s">&quot;true&quot;</span> <span class="na">packaged=</span><span class="s">&quot;true&quot;</span> <span class="na">encoding=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;directory&gt;</span>src/main/java<span class="nt">&lt;/directory&gt;</span>
        <span class="nt">&lt;includes&gt;</span>
          <span class="nt">&lt;include&gt;</span>**/*.xml<span class="nt">&lt;/include&gt;</span>
          <span class="nt">&lt;include&gt;</span>**/*.java<span class="nt">&lt;/include&gt;</span>
        <span class="nt">&lt;/includes&gt;</span>
      <span class="nt">&lt;/fileSet&gt;</span>
    <span class="nt">&lt;/fileSets&gt;</span>
</code></pre></div>


<p>If the <code>filtered</code> property is set to true then all <code>${reference}</code> are resolved. The built-in references are: <code>groupId,version,artifactId,rootArtifactId,package ...</code>. If <code>packaged</code> is set to true then a directory tree representing the package is created before the resources are copied. Remember these are Velocity templates so you should  be able to use Velocity control statements (note: I've not tried these yet)</p>

<p>Once you are happy with the archetype you can execute <code>mvn install</code> to install the archetype. This archetype should now appear in the list when you execute <code>mvn archetype:generate</code>. You can release the archetype if you have your own remote repository. You will however need to create a achetype-catalog.xml if you want other users to use this archetype from your own remote repository. The archetype-catalog.xml file should look like the following:</p>

<div class="highlight"><pre><code class="xml">    <span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
    <span class="nt">&lt;archetype-catalog&gt;</span>
      <span class="nt">&lt;archetypes&gt;</span>
        <span class="nt">&lt;archetype&gt;</span>
          <span class="nt">&lt;groupId&gt;</span>my.group<span class="nt">&lt;/groupId&gt;</span>
          <span class="nt">&lt;artifactId&gt;</span>an-archetype<span class="nt">&lt;/artifactId&gt;</span>
          <span class="nt">&lt;version&gt;</span>0.0.1<span class="nt">&lt;/version&gt;</span>
          <span class="nt">&lt;description&gt;</span>my example archetype<span class="nt">&lt;/description&gt;</span>
          <span class="nt">&lt;repository&gt;</span>http://repository-host/nexus/content/repositories/releases<span class="nt">&lt;/repository&gt;</span>
        <span class="nt">&lt;/archetype&gt;</span>
      <span class="nt">&lt;/archetypes&gt;</span>
    <span class="nt">&lt;/archetype-catalog&gt;</span>
</code></pre></div>


<p>You can then use this archetype to create a project using the following command:</p>

<pre><code>mvn archetype:generate -DarchetypeCatalog=http://&lt;uri-path&gt;/archetype-catalog.xml
</code></pre>

    </div>
    <!--End Blog Post-->
</div>
<!-- End Left Sidebar -->

<!-- Right Sidebar -->
<div class="col-md-3 magazine-page">
    <!-- Blog Latest Tweets -->
    <div class="blog-twitter margin-bottom-30">
        <a class="twitter-timeline" href="https://twitter.com/mashooq/codurance" data-widget-id="400789734676385792">Tweets from Codurance team</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <!-- End Blog Latest Tweets -->
</div>
<!-- End Right Sidebar -->
</div>
<!--/row-->
</div>
<!--/container-->
<!--=== End Content Part ===-->


<!--=== Copyright ===-->
<div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <p class="copyright-space">
                    2013 &copy; Codurance LTD.
                     | Company Registration No: 8712584
                     | Contact us: <a href="mailto:hello@codurance.com" class="">hello@codurance.com</a>
                </p>

            </div>
            <div class="col-md-6">
                <ul class="social-icons pull-right">
                    <li><a href="/atom.xml" data-original-title="Feed" class="social_rss"></a></li>
                    <li><a href="http://twitter.com/codurance" data-original-title="Twitter" class="social_twitter"></a></li>
                </ul>
            </div>
        </div> <!--/row-->
    </div> <!--/container-->
</div><!--/copyright-->

<!--=== End Copyright ===-->

<!-- JS Global Compulsory -->
<script type="text/javascript" src="/assets/plugins/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/assets/plugins/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/plugins/hover-dropdown.min.js"></script>
<script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
<!-- JS Implementing Plugins -->
<script type="text/javascript" src="/assets/plugins/flexslider/jquery.flexslider-min.js"></script>
<script type="text/javascript" src="/assets/plugins/parallax-slider/js/modernizr.js"></script>
<script type="text/javascript" src="/assets/plugins/parallax-slider/js/jquery.cslider.js"></script>
<!-- JS Page Level -->
<script type="text/javascript" src="/assets/js/app.js"></script>
<script type="text/javascript" src="/assets/js/pages/index.js"></script>
<script type="text/javascript">
    jQuery(document).ready(function () {
        App.init();
        App.initSliders();
        Index.initParallaxSlider();
    });
</script>
<!--[if lt IE 9]>
<script src="/assets/plugins/respond.js"></script>
<![endif]-->

</body>
</html>
